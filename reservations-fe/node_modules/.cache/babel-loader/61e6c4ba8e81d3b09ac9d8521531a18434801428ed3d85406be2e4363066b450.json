{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelDynamic as _vModelDynamic, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-2b7575d8\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"background-image\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"row align-items-center justify-content-center\"\n};\nconst _hoisted_4 = {\n  class: \"col-12 col-sm-6 col-md-4 col-lg-4\"\n};\nconst _hoisted_5 = {\n  class: \"card mx-auto shadow\"\n};\nconst _hoisted_6 = {\n  class: \"card-body\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"sky-h3\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", null, \"ACCOUNT LOGIN\")], -1 /* HOISTED */));\nconst _hoisted_8 = {\n  key: 0,\n  \"close-icon\": \"mdi-close-circle\",\n  value: true,\n  class: \"alert alert-danger\",\n  role: \"alert\",\n  dense: \"\"\n};\nconst _hoisted_9 = {\n  key: 1,\n  \"close-icon\": \"mdi-close-circle\",\n  value: true,\n  class: \"alert alert-danger\",\n  role: \"alert\",\n  dense: \"\"\n};\nconst _hoisted_10 = {\n  class: \"card-text pt-2\"\n};\nconst _hoisted_11 = {\n  class: \"col-md-10 mb-3\"\n};\nconst _hoisted_12 = {\n  class: \"input-group\"\n};\nconst _hoisted_13 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-prepend\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_14 = [\"rules\"];\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"w-100\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_16 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"input-group-prepend\"\n}, null, -1 /* HOISTED */));\nconst _hoisted_17 = [\"type\", \"rules\", \"append-icon\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _ctx.showMsg === 'loginError' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, \" Invalid username or password. Please Try again. \")) : _ctx.showMsg === 'axiosError' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, \" Access blocked by server. Check server. \")) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_hoisted_13, _withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.credentials.username = $event),\n    counter: 70,\n    label: \"Username\",\n    rules: _ctx.rules.username,\n    maxlength: \"70\",\n    required: \"\",\n    type: \"text\",\n    class: \"form-control mb-3\",\n    style: {\n      \"margin-bottom\": \"20px\"\n    },\n    placeholder: \"Username\",\n    \"aria-describedby\": \"inputGroupPrepend2\"\n  }, null, 8 /* PROPS */, _hoisted_14), [[_vModelText, _ctx.credentials.username]]), _hoisted_15, _hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n    type: _ctx.showPassword ? 'text' : 'Password',\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.credentials.password = $event),\n    label: \"Password\",\n    rules: _ctx.rules.password,\n    maxlength: \"20\",\n    required: \"\",\n    \"append-icon\": _ctx.showPassword ? 'mdi-eye' : 'mdi-eye-off',\n    \"onClick:append\": _cache[2] || (_cache[2] = $event => _ctx.showPassword = !_ctx.showPassword),\n    class: \"form-control\",\n    placeholder: \"Password\",\n    \"aria-describedby\": \"inputGroupPrepend2\"\n  }, null, 40 /* PROPS, NEED_HYDRATION */, _hoisted_17), [[_vModelDynamic, _ctx.credentials.password]])])]), _createElementVNode(\"button\", {\n    ref: \"form\",\n    onClick: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"])),\n    class: \"btn btn-primary\"\n  }, \"Login\", 512 /* NEED_PATCH */)])])])])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","key","value","role","dense","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_ctx","showMsg","_hoisted_8","_hoisted_9","_createCommentVNode","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_cache","$event","credentials","username","counter","label","rules","maxlength","required","type","style","placeholder","_hoisted_14","_hoisted_15","_hoisted_16","showPassword","password","_hoisted_17","ref","onClick","_withModifiers","args","$options","login"],"sources":["E:\\ISQA 3900 - Web Application Development\\ISQA4900_Group3_Backend\\reservations-fe\\src\\components\\Auth.vue"],"sourcesContent":["<template>\r\n  <div class=\"container-fluid\">\r\n    <div class=\"background-image\"></div>\r\n    <div class=\"row align-items-center justify-content-center\">\r\n      <div class=\"col-12 col-sm-6 col-md-4 col-lg-4\">\r\n        <div class=\"card mx-auto shadow\">\r\n          <div class=\"card-body\">\r\n            <div class=\"sky-h3\"><span>ACCOUNT LOGIN</span></div>\r\n            <div\r\n                v-if=\"showMsg === 'loginError'\"\r\n                close-icon=\"mdi-close-circle\"\r\n                :value=\"true\"\r\n                class=\"alert alert-danger\"\r\n                role=\"alert\"\r\n                dense\r\n            >\r\n              Invalid username or password. Please Try again.\r\n            </div>\r\n            <div\r\n                v-else-if=\"showMsg === 'axiosError'\"\r\n                close-icon=\"mdi-close-circle\"\r\n                :value=\"true\"\r\n                class=\"alert alert-danger\"\r\n                role=\"alert\"\r\n                dense\r\n            >\r\n              Access blocked by server. Check server.\r\n            </div>\r\n            <div class=\"card-text pt-2\">\r\n              <div class=\"col-md-10 mb-3\">\r\n                <div class=\"input-group\">\r\n                  <div class=\"input-group-prepend\">\r\n                  </div>\r\n                  <input\r\n                      v-model=\"credentials.username\"\r\n                      :counter=\"70\"\r\n                      label=\"Username\"\r\n                      :rules=\"rules.username\"\r\n                      maxlength=\"70\"\r\n                      required\r\n                      type=\"text\"\r\n                      class=\"form-control mb-3\"\r\n                      style=\"margin-bottom: 20px;\"\r\n                      placeholder=\"Username\"\r\n                      aria-describedby=\"inputGroupPrepend2\"\r\n                  />\r\n                  <div class=\"w-100\"></div>\r\n                  <div class=\"input-group-prepend\">\r\n                  </div>\r\n                  <input\r\n                      :type=\"showPassword ? 'text' : 'Password'\"\r\n                      v-model=\"credentials.password\"\r\n                      label=\"Password\"\r\n                      :rules=\"rules.password\"\r\n                      maxlength=\"20\"\r\n                      required\r\n                      :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\r\n                      @click:append=\"showPassword = ! showPassword\"\r\n                      class=\"form-control\"\r\n                      placeholder=\"Password\"\r\n                      aria-describedby=\"inputGroupPrepend2\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <button ref=\"form\" @click.prevent=\"login\" class=\"btn btn-primary\">Login</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport router from '../router';\r\nimport {APIService} from \"@/http/ApIService\";\r\n\r\nconst apiService = new APIService();\r\nexport default {\r\n  name: \"Auth\",\r\n  data: () => ({\r\n    credentials: {},\r\n    valid: true,\r\n    showMsg: \"\",\r\n    loading: false,\r\n    rules: {\r\n      username: [\r\n        (v) => !!v || \"Username is required\",\r\n        (v) =>\r\n            (v && v.length > 3) ||\r\n            \"A username must be more than 3 characters long\",\r\n        (v) =>\r\n            /^[a-z0-9_]+$/.test(v) ||\r\n            \"A username can only contain letters and digits\",\r\n      ],\r\n      password: [\r\n        (v) => !!v || \"Password is required\",\r\n        (v) =>\r\n            (v && v.length > 7) ||\r\n            \"The password must be longer than 7 characters\",\r\n      ],\r\n    },\r\n    showPassword: false,\r\n  }),\r\n  methods: {\r\n    login() {\r\n      localStorage.clear();\r\n      localStorage.setItem(\"isAuthenticated\", false)\r\n      apiService\r\n          .authenticateLogin(this.credentials)\r\n          .then((response) => {\r\n            const access = response.data.access\r\n            const refresh = response.data.refresh\r\n            localStorage.setItem(\"access\", access)\r\n            localStorage.setItem(\"refresh\", refresh)\r\n            localStorage.setItem(\"isAuthenticated\", true)\r\n            localStorage.setItem(\"log_user\", JSON.stringify(this.credentials.username))\r\n            window.location = \"/\";\r\n          }).catch(error => {\r\n        if (error.message === \"Network Error\") { // Verify CORS middleware installed in server settings\r\n          this.showMsg = \"axiosError\"\r\n        } else if (error.response.status === 401) { // \"not authorized\"\r\n          this.showMsg = \"loginError\";\r\n          router.push(\"/auth\");\r\n        } else if (error.response.status === 400) { //\"bad request\"\r\n          this.showMsg = \"loginError\";\r\n        } else {\r\n          this.showMsg = \"axiosError\";\r\n          router.push(\"/auth\");\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n@import url('https://fonts.googleapis.com/css?family=Playfair+Display:400,700,900');\r\n@import url('https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800');\r\n@import url('https://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500,600,700,800,900');\r\n\r\n.sky-h3 {\r\n  font-family: \"Poppins\", sans-serif;\r\n  text-shadow: 1px 1px 4px #000000;\r\n  font-weight: 700;\r\n}\r\n\r\n.container-fluid {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.background-image {\r\n  content: '';\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  /* Keep the background image here */\r\n  background: url('../assets/images/img01-blur.png') center center / cover no-repeat fixed;\r\n  /* Adjust the blur value to your preference */\r\n  backdrop-filter: blur(250px); /* Apply the blur effect here */\r\n  -webkit-backdrop-filter: blur(250px); /* For Safari compatibility */\r\n  z-index: -1; /* Place the pseudo-element behind the content */\r\n}\r\n\r\n.card {\r\n  color: white;\r\n  width: 600px;\r\n  padding: 1.5rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.card-title span {\r\n  font-size: 2rem; /* Adjust font size as needed */\r\n  font-weight: bold;\r\n}\r\n\r\n.input-group {\r\n  width: 362px;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.input-group-text {\r\n  background: transparent;\r\n  border: none;\r\n  color: white;\r\n}\r\n\r\n.form-control {\r\n  background: rgba(255, 255, 255, 0.1);\r\n  border: 2px solid white; /* Gold border */\r\n  border-radius: 0; /* Square edges */\r\n  color: white;\r\n  padding: 20px;\r\n  width: 430px;\r\n}\r\n\r\n.form-control::placeholder {\r\n  color: #ffffff;\r\n  text-shadow: 1px 1px 1px #000000;\r\n}\r\n\r\n.btn-primary {\r\n  padding: 7px 30px;\r\n    background: rgba(255, 255, 255, 0.1);\r\n  border: 2px solid white; /* Gold border */\r\n  text-transform: uppercase;\r\n  font-size: 14px;\r\n  cursor: pointer;\r\n  font-weight: 500;\r\n  margin-left: 12px;\r\n  border-radius: 0!important;\r\n}\r\n\r\n.btn-primary:hover {\r\n  background-color: #1c212d;\r\n  border: #d78f00 1px solid;\r\n}\r\n\r\n.btn:active {\r\n  transform: translateY(2px);\r\n  color: inherit !important;\r\n  background: inherit !important;\r\n}\r\n\r\n.alert.alert-danger {\r\n  font-size: 0.9rem;\r\n  width: 100%; /* Full width */\r\n  text-align: center;\r\n  background: #c0392b; /* Red background for alert */\r\n  margin-bottom: 1rem; /* Space between alert and title */\r\n  border-radius: 4px; /* Rounded edges for alert */\r\n}\r\n\r\n/* Hide scrollbar for aesthetic purposes, but it can be kept if needed */\r\n::-webkit-scrollbar {\r\n  display: none;\r\n}\r\n\r\n/* Responsive adjustments */\r\n@media (max-width: 576px) {\r\n  .card {\r\n    padding: 1rem;\r\n    margin: 1rem;\r\n  }\r\n\r\n  .card-title span {\r\n    font-size: 1.5rem;\r\n  }\r\n}\r\n\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}